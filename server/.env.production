# Mode / ports
PORT=3000
LOG_LEVEL=warning

# DB locales (hors Docker) — facultatif mais utile si tu lances l’API sans Docker
DATABASE_URL=postgresql://postgres:password@localhost:5432/appdb?serverVersion=17.2&charset=utf8
MONGO_URL=mongodb://root:password@localhost:27017/appdb

# Auth
JWT_ACCESS_SECRET=Changez_moi_avec_une_valeur_secrète_et_longue_pour_la_production_!
JWT_REFRESH_SECRET=Changez_moi_avec_une_valeur_secrète_et_longue_pour_la_production_!

ACCESS_TOKEN_TTL="1m"
REFRESH_TOKEN_TTL="30m"

# Web
COOKIE_DOMAIN=localhost
CORS_ORIGIN=http://localhost:5173

# Fichiers
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE_MB=4



# ============================================================================
# 📘 Résumé pédagogique — `.env.production` (Version mise à jour)
# ----------------------------------------------------------------------------
# Ce fichier configure **l’environnement de production** :
#   ✅ Sécurité renforcée
#   ✅ Moins de logs (performance)
#   ✅ Réglages stricts sur la durée de vie des tokens
#
# ❌ Il ne doit jamais être poussé sur Git avec de vraies valeurs secrets !
#
# ----------------------------------------------------------------------------
# 🔹 1. Paramètres généraux
#
# PORT=3000
#   ➜ Port sur lequel le serveur écoutera en production
#
# LOG_LEVEL=warning
#   ➜ Seules les alertes et erreurs s’affichent
#      → meilleure performance (pas de logs inutiles)
#
# ----------------------------------------------------------------------------
# 🔹 2. Bases de données
#
# DATABASE_URL & MONGO_URL
#   ➜ Connexions aux DB critiques
#   ⚠️ En production, ces URL doivent pointer :
#       - vers un serveur sécurisé (pas localhost !)
#       - avec un vrai mot de passe
#
# ----------------------------------------------------------------------------
# 🔹 3. Authentification (⚠️ Point critique)
#
# JWT_ACCESS_SECRET / JWT_REFRESH_SECRET
#   ➜ Clés cryptographiques pour signer les tokens JWT
#
# ✅ Doivent être :
#     - fortes (≥ 256 bits)
#     - générées aléatoirement
#     - jamais connues publiquement
#
# ACCESS_TOKEN_TTL="1m"
#   🔐 très court en production → réduit la fenêtre d’exploitation
#
# REFRESH_TOKEN_TTL="30m"
#   🔄 durée raisonnable pour ne pas se reconnecter trop souvent
#
# ----------------------------------------------------------------------------
# 🔹 4. Communication front/back
#
# COOKIE_DOMAIN
#   ➜ Doit pointer sur ton domaine public :
#      Exemple : `.monsite.fr`
#
# CORS_ORIGIN
#   ➜ Front autorisé à accéder à l’API
#   ⚠️ Toujours restreindre aux domaines de prod
#
# ----------------------------------------------------------------------------
# 🔹 5. Uploads & sécurité serveur
#
# UPLOAD_DIR
#   ➜ Dossier sécurisé pour stocker les fichiers uploadés
#
# MAX_UPLOAD_SIZE_MB=4
#   ➜ Limite stricte (protection contre DoS et saturation disque)
#
# ----------------------------------------------------------------------------
# ✅ En résumé
#
# `.env.production` :
#   🔐 protège les secrets
#   ⚙️ assure la qualité et performance en production
#   🛡️ limite drastiquement les risques d’attaque
#
# C’est le fichier le plus sensible du backend :
#   ➜ Bien configuré = application fiable et sécurisée ✅
#   ➜ Mal configuré = portes ouvertes aux failles ❌
#
# ============================================================================
